# 06장 - 데이터 타입

## 목차

6.1 숫자 타입

6.2 문자열타입

6.3 템플릿 리터럴

6.3.1 멀티라인 문자열

6.3.2 표현식 삽입

6.4 불리언 타입

6.5 undefined 타입

6.6 null 타입

6.7 심벌 타입

6.8 객체 타입

6.9 데이터 타입의 필요성

6.9.1 데이터 타입에 의한 메모리 공간의 확보와 참조

6.9.2 데이터 타입에 의한 값의 해석

6.10 동적 타이핑

6.10.1 동적 타입 언어와 정적 타입 언어

6.10.2 동적 타입 언어와 변수

---

## 6장 데이터 타입

데이터 타입은 값의 종류를 말한다. 자바스크립트는 원시 타입(primitive type)과 객체 타입(object/reference type)으로 분류된 7개의 데이터 타입을 제공한다.

| 구분      | 데이터 타입    | 설명                                              |
| --------- | -------------- | ------------------------------------------------- |
| 원시 타입 | 숫자 타입      | 숫자 정수와 실수 구분없이 하나의 숫자 타입만 존재 |
|           | 문자열 타입    | 문자열                                            |
|           | 불리언 타입    | 논리적 참(true)과 거짓(false)                     |
|           | undefined 타입 | var 키워드로 선언된 변수에 암묵적으로 할당되는 값 |
|           | null 타입      | 값이 없다는 것을 의도적으로 명시할 때 사용하는 값 |
|           | 심볼 타입      | ES6에서 추가된 7번째 타입                         |
| 객체 타입 |                | 객체, 함수, 배열 등                               |

---

## 6.1 숫자 타입

C나 자바의 경우, 정수(소수점 이하가 없는 숫자)와 실수(소수점 이하가 있는 숫자)를 구분해서 숫자 타입을 제공하지만, 자바스크립트의 경우 하나의 숫자 타입만 존재한다.

**JavaScript는 모든 수를 실수로 처리하며**, 정수로 표현하기 위한 데이터 타입이 별도로 존재하지 않는다.

```jsx
// 모두 숫자 타입
var integer = 10; // 정수
var double = 10.12; // 실수
var negative = -20; // 음의 정수
```

대신 2진수, 8진수, 16진수를 표현하기 위한 데이터 타입을 제공하지 않기 때문에, **이들 값을 참조하면모두 10진수로 해석된다.**

```jsx
var binary = 0b01000001; // 2진수
var octal = 0o101; // 8진수
var hex = 0x41; // 16진수

// 위의 값 모두 10진수 65로 해석된다
// binary === octal === hex => true
```

숫자 타입은 추가적으로 `Infinity(양의 무한대)`, `-Infinity(음의 무한대)`, `NaN(산술 연산 불가)` 를 표현할 수 있다. `NaN`은 대소문자 구별에 주의해야 한다.

### 숫자타입의 특별한 값 `NaN`

NaN은 not-a-number로 숫자 타입으로 호출 했을 때, 숫자가 아닌 값인 경우 NaN이 호출된다.

```jsx
let s = '352+*9-';

let stack = [];
for (let i = 0; i < s.length; i++) {
  if (s[i] !== NaN) {
    stack.push(Number(s[i]));
  }
  console.log(stack);
}

/*
[3]
[3, 5]
[3, 5, 2]
[3, 5, 2, NaN]
[3, 5, 2, NaN, NaN]
[3, 5, 2, NaN, NaN, 9]
[3, 5, 2, NaN, NaN, 9, NaN]
*/
```

### 🧐 만약 문자열 s에서 숫자만을 호출 하고 싶다면?

```jsx
let s = '352+*9-';

let stack = [];
for (let i = 0; i < s.length; i++) {
  if (!isNaN(s[i])) {
    stack.push(Number(s[i]));
  }
  console.log(stack);
}

/*
[3]
[3, 5]
[3, 5, 2]
[3, 5, 2]
[3, 5, 2]
[3, 5, 2, 9]
[3, 5, 2, 9]
*/
```

> **(s[i] !== NaN) != (!isNaN(s[i]))**
>
> JavaScript의 다른 모든 값과 달리, NaN은 같음 연산(==, ===)을 사용해 판별할 수 없다.
>
> NaN === NaN은 `false`로 평가되기 때문이다.
>
> 그래서 NaN을 판별하는 함수가 필요하다.
>
> **`isNaN()** 함수`는 어떤 값이 NaN인지 판별해준다.
>
> 주어진 값이 NaN이면 true, 아니면 false.
>
> **즉, NaN을 판별하고 싶을 때는 === 연산자가 아닌 isNaN함수를 사용해야 한다.**

---

## 6.2 문자열 타입

문자열 타입은 텍스트 데이터를 나타내는 데 사용되며, 문자열은 0개 이상의 16비트 유니코드 문자(UTF-16)의 집합이다.

- 유니코드 문자(UTF-16)

문자열을 작은따옴표(’‘), 큰따옴표(”“) 또는 백틱(``)으로 텍스트를 감싸지 않으면, 자바스크립트 엔진은 키워드나 식별자 같은 토큰으로 인식한다.

---

## 6.3 템플릿 리터럴

ES6부터 `템플릿 리터럴` 이라고 하는 문자열 표기법이 도입되었고, 이는 멀티라인 문자열, 표현식 삽입, 태그드 템플릿 등 편리한 문자열 처리 기능을 제공한다. `템플릿 리터럴` 은 런타임에 일반 문자열로 변환되어 처리된다.

### 6.3.1 멀티라인 문자열

일반 문자열내에서는 줄바꿈(개행)이 허용되지 않기 때문에, 이스케이프 시퀀스를 사용해서 줄바꿈 등 공백을 표현해야 한다.

템플릿 리터럴 내에서는 이스케이프 시퀀스를 사용하지 않고도, 줄바꿈 등 공백을 표현할 수 있다.

### 6.3.2 표현식 삽입

문자열은 문자열 연산자 `+` 를 사용해서 문자열을 연결할 수 있다.

```jsx
var first = 'Ung-mo';
var last = 'Lee';

console.log('My name is ' + first + ' ' + last + '.');
// My name is Ung-mo Lee.
```

템플릿 리터럴 내에서는 `${}` 을 사용하는 표현식 삽입을 통해 간단히 문자열을 삽입할 수 있다.

```jsx
var first = 'Ung-mo';
var last = 'Lee';

console.log(`My name is ${first} ${last}.`);
// My name is Ung-mo Lee.;
```

---

## 6.4 불리언 타입

**불리언 타입은 논리적 참, 거짓을 나타내는 `true`, `false` 뿐이다.**

---

## 6.5 undefined 타입

**`undefined` 타입은 undefined가 유일하다**

undefined는 개발자가 의도적으로 할당하기 위한 값이 아니라 자바스크립트 엔진이 변수를 초기화 할 때 사용하는 값이다.

개발자가 의도적으로 변수에 값이 없다는 것을 명시하고 싶다면 undefined 대신에 `null`을 사용하면 된다.

---

## 6.6 null 타입

**프로그래밍 언어에서 `null`은 변수에 값이 없다는 것을 의도적으로 명시(의도적 부재)할 때, 사용한다.**

또한, 함수가 유효한 값을 반환할 수 없는 경우 명시적으로 null을 반환하기 도 한다.

예를들어, HTML 요소를 검색해 반환하는 document.querySelector 매서드는 조건에 부합하는 HTML 요소를 검색할 수 없는 경우 에러 대신 null을 반환한다.

---

## 6.7 심벌 타입

`심벌` 은 ES6에서 추가된 7번째 타입으로 ,변경 불가능한 원시 타입의 값이며 다른 값과 중복되지 않는 유일무이한 값이다.

주로 객체의 유일한 프로퍼티 키를 만들기 위해 사용한다.

`심벌` 이외의 원시 값은 리터럴을 통해 생성하지만, 심벌은 함수를 호출해 생성된다. 이때 생성된 심벌 값은 외부에 노출되지 않으며, 다른 값과 절대 중복되지 않는 유일무이한 값이다.

```jsx
var key = Symbol('key');

var obj = {};

// 이름이 충동할 위험이 없는 유일무이한 값인 심벌을 프로퍼티 키로 사용한다.
obj[key] = 'Value';
```

---

## 6.8 객체 타입

자바스크립트의 데이터 타입은 크게 `원시 타입`과 `객체 타입`으로 분류한다.

**자바스크립트를 이루고 있는 거의 모든 것이 객체이다.**

---

## 6.9 데이터 타입의 필요성

### 6.9.1 데이터 타입에 의한 메모리 공간의 확보와 참조

```jsx
var scroe = 100;
// 위 코드가 실행되었을 때, 메모리 공간에 일어나는 일
// 1. 컴퓨터는 숫자 값 100을 저장하기 위해 메모리 공간을 확보한다.
// 2. 확보된 메모리 공간에 숫자 값 100을 2진수로 저장한다.
// 이때, 숫자 값을 저장할 때 확보해야 할 메모리 공간의 크기를 알아야 한다.
// 자바스크립트 엔진은 변수에 할당되는 값의 데이터 타입에 따라 확보해야할
// 메모리 공간의 크기를 결정한다.

// 아래 그림으로 볼 때, 숫자 타입 100을 저장하기 위해 8바이트의 메모리 공간을 확보하고,
// 100을 2진수로 저장한다.
```

<p align="center" width="400"><img alt="스크린샷 2023-04-24 오후 8 56 56" src="https://user-images.githubusercontent.com/101160636/233989885-5299d5be-75c8-42aa-b2b5-6bc722d62836.png">

식별자 score를 통해 숫자 타입의 값 100이 저장되어 있는 메모리 공간의 주소를 찾아갈 때에는, 숫자 값 100이 저장되어 있는 메모리 공간의 선두 메모리 셀의 주소를 찾아간다.

이때, 숫자 값 100을 참조하려면 한번에 8바이트 단위로 읽어 들여야 하는데, 컴퓨터는 한번에 읽어 들여야할 메모리 셀의 크기를 어떻게 알 수 있는 것일까?

정답은 변수에 숫자 타입의 값이 할당되어 있다면 자바스크립트 엔진은 score 변수를 숫자 타입으로 인식하고, 숫자 타입은 8바이트 단위로 저장되므로, 8바이트 단위로 메모리 공간에 저장된 값을 한번에 읽어 들인다.

### 6.9.2 데이터 타입에 의한 값의 해석

그럼 메모리에서 읽어 들인 2진수를 해석하는 과정은 어떻게 될까?

예를 들어, 메모리에 저장된 값 0100 0001을 숫자로 해석하면 65지만, 문자열로 해석하면 “A”다.

하지만, score 변수에 할당된 값은 숫자 타입의 값이기 때문에, 0100 0001을 숫자로 해석한다.

### ❗ 데이터 타입이 필요한 이유

📣 값을 저장할 때 확보해야 하는 메모리 공간의 크기를 결정하기 위해

📣 값을 참조할 때 한번에 읽어 들여야 할 메모리 공간의 크기를 결정하기 위해

📣 메모리에서 읽어 들인 2진수를 어떻게 해석할지 결정하기 위해

---

## 6.10 동적 타이핑

### 6.10.1 동적 타입 언어와 정적 타입 언어

`정적 타입 언어`는 변수를 선언할 때, 변수에 할당할 수 있는 값의 종류, 즉 데이터 타입을 사전에 선언해야 한다. 컴파일 시점에 타입 체크(선언한 데이터 타입에 맞는 값을 할당했는지 검사하는 처리)를 수행하고, 타입 체크를 통과하지 못하면 에러를 발생시킨다.

**자바스크립트는 변수를 선언할 때, 타입을 선언하지 않는다. 즉, 자바스크립트의 변수는 선언이 아닌 할당에 의해 타입이 결정(타입 추론)된다. 그리고 재할당에 의해 변수 타입은 언제든지 동적으로 변할 수 있다.**

**즉, 자바스크립트는 `동적 타입의 언어`이고, 현재 변수에 할당되어 있는 값에 의해 변수의 타입이 동적으로 결정된다.**

자바스크립트의 `type of` 연산자로 변수를 연산하면, 변수의 데이터 타입을 반환하는 것이 아니라 변수에 할당된 값의 데이터 타입을 반환한다.

---

### 6.10.2 동적 타입 언어와 변수

변수에 데이터의 값을 자유롭게 할당할 수 있다는 동적 타입의 특징은 장점이자 단점이 될 수도 있다.

변수 값은 언제든지 변경될 수 있기 때문에, 복잡한 프로그램에서는 변화하는 변수 값을 추적하기 어려울 수 있고, 값을 확인하기 전까지는 타입을 확신할 수 없다.

**즉, 동적 타입의 언어는 유연성은 높지만 신뢰성은 떨어진다.**

❗동적 타입 언어에서의 변수를 사용할 때 주의사항

📣 변수는 꼭 필요한 경우에 한해 제한적으로 사용한다.

📣 변수의 유효 범위(스코프)는 최대한 좁게 만들어 변수의 부작용을 억제해야한다.

📣 전역 변수는 최대한 사용하지 않도록 한다. 어디서든지 참조/변경 가능한 전역 변수는 의도치 않게 값이 변경될 가능성이 높고 다른 코드에 영향을 줄 가능성이 높다.

📣 변수보다는 상수를 사용해서 변경을 억제한다.

📣 변수 이름은 변수의 목적이나 의미를 파악할 수 있도록 네이밍 한다.

**⭐ 사람이 이해할 수 있는 코드, 즉 가독성이 좋은 코드가 좋은 코드다**
